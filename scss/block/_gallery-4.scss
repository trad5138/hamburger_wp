@use "../foundation/mixin";
@use "../foundation/palette";
@use "../foundation/color";
@use "../foundation/variable";

/* ギャラリーエリアの設定*/
.wp-block-gallery,
.blocks-gallery-grid {
	display: flex;
	flex-wrap: wrap;
	list-style-type: none;
	padding: 0;
	margin: 0;
}
  
.wp-block-gallery {
	.blocks-gallery-image,
	.blocks-gallery-item {
		margin: 0 1em 1em 0;
		display: flex;
	  	flex-grow: 1;
	  	flex-direction: column;
	  	justify-content: center;
	  	position: relative;
	  	//width: calc(50% - 1em);
		width: 100%;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image,
	.blocks-gallery-item {
	  	margin: 0 1em 1em 0;
	  	display: flex;
	  	flex-grow: 1;
	  	flex-direction: column;
	  	justify-content: center;
	  	position: relative;
	  	//width: calc(50% - 1em);
		width: 100%;
	}
}
  
.wp-block-gallery {
	.blocks-gallery-image:nth-of-type(even),
	.blocks-gallery-item:nth-of-type(even) {
	  	margin-right: 0;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image:nth-of-type(even),
	.blocks-gallery-item:nth-of-type(even) {
	  	margin-right: 0;
	}
}
  
.wp-block-gallery {
	.blocks-gallery-image figure,
	.blocks-gallery-item figure {
	  	margin: 0;
	  	height: 100%;
	  	display: flex;
	  	align-items: flex-end;
	  	justify-content: flex-start;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image figure,
	.blocks-gallery-item figure {
	  	margin: 0;
	  	height: 100%;
	  	display: flex;
	  	align-items: flex-end;
	  	justify-content: flex-start;
	}
}
  
.wp-block-gallery {
	.blocks-gallery-image img,
	.blocks-gallery-item img {
	  	display: block;
	  	max-width: 100%;
	  	height: auto;
	  	width: auto;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image img,
	.blocks-gallery-item img {
	  	display: block;
	  	max-width: 100%;
	  	height: auto;
	  	width: auto;
	}
}
  
.wp-block-gallery {
	.blocks-gallery-image figcaption,
	.blocks-gallery-item figcaption {
	  	position: absolute;
	  	bottom: 0;
	  	width: 100%;
	  	max-height: 100%;
	  	overflow: auto;
	  	padding: 3em 0.77em 0.7em;
	  	color: #fff;
	  	text-align: center;
	  	font-size: 0.8em;
	  	background: linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0, rgba(0, 0, 0, 0.3) 70%, transparent);
	  	box-sizing: border-box;
	  	margin: 0;
	  	z-index: 2;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image figcaption,
	.blocks-gallery-item figcaption {
	  	position: absolute;
	  	bottom: 0;
	  	width: 100%;
	  	max-height: 100%;
	  	overflow: auto;
	  	padding: 3em 0.77em 0.7em;
	  	color: #fff;
	  	text-align: center;
	  	font-size: 0.8em;
	  	background: linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0, rgba(0, 0, 0, 0.3) 70%, transparent);
	 	box-sizing: border-box;
	  	margin: 0;
	  	z-index: 2;
	}
}
  
.wp-block-gallery {
	.blocks-gallery-image figcaption img,
	.blocks-gallery-item figcaption img {
	  	display: inline;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image figcaption img,
	.blocks-gallery-item figcaption img {
	  	display: inline;
	}
}
  
.wp-block-gallery figcaption,
.blocks-gallery-grid figcaption {
	flex-grow: 1;
}
  
.wp-block-gallery.is-cropped {
	.blocks-gallery-image {
	  	a, img {
			width: 100%;
			height: 100%;
			flex: 1;
			-o-object-fit: cover;
			object-fit: cover;
	  	}
	}
  
	.blocks-gallery-item {
	  	a, img {
			width: 100%;
			height: 100%;
			flex: 1;
			-o-object-fit: cover;
			object-fit: cover;
	  	}
	}
}
  
.blocks-gallery-grid.is-cropped {
	.blocks-gallery-image {
	  	a, img {
			width: 100%;
			height: 100%;
			flex: 1;
			-o-object-fit: cover;
			object-fit: cover;
	  	}
	}
  
	.blocks-gallery-item {
	  	a, img {
			width: 100%;
			height: 100%;
			flex: 1;
			-o-object-fit: cover;
			object-fit: cover;
	  	}
	}
}
  

.wp-block-gallery.columns-default {
	.blocks-gallery-image,
	.blocks-gallery-item {
		width: 100%;
		margin-right: 0;
	}
}

.blocks-gallery-grid.columns-default {
	.blocks-gallery-image,
	.blocks-gallery-item {
	  	width: 100%;
	  	margin-right: 0;
	}
}

.wp-block-gallery.columns-1 {
	.blocks-gallery-image,
	.blocks-gallery-item {
	  	width: 100%;
	  	margin-right: 0;
	}
}
  
.blocks-gallery-grid.columns-1 {
	.blocks-gallery-image,
	.blocks-gallery-item {
	  	width: 100%;
	  	margin-right: 0;
	}
}

.wp-block-gallery.columns-2 {
	.blocks-gallery-image,
	.blocks-gallery-item {
	  	width: 100%;
	  	margin-right: 0;
	}
}
  
.blocks-gallery-grid.columns-2 {
	.blocks-gallery-image,
	.blocks-gallery-item {
	  	width: 100%;
	  	margin-right: 0;
	}
}


@include mixin.mq(tablet) {
	.wp-block-gallery.columns-default {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	//width: calc(33.3333333333% - 0.6666666667em);
		  	width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.blocks-gallery-grid.columns-default {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	//width: calc(33.3333333333% - 0.6666666667em);
		  	width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.wp-block-gallery.columns-2 {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	//width: calc(33.3333333333% - 0.6666666667em);
		  	width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.blocks-gallery-grid.columns-2 {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	//width: calc(33.3333333333% - 0.6666666667em);
		  	width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.wp-block-gallery.columns-3 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(33.3333333333% - 0.6666666667em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-3 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(33.3333333333% - 0.6666666667em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-4 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(25% - 0.75em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-4 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(25% - 0.75em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-5 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(20% - 0.8em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-5 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(20% - 0.8em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-6 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(16.6666666667% - 0.8333333333em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-6 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(16.6666666667% - 0.8333333333em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-7 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(14.2857142857% - 0.8571428571em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-7 {
	  	.blocks-gallery-image,
	   	.blocks-gallery-item {
			//width: calc(14.2857142857% - 0.8571428571em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-8 {
	  	.blocks-gallery-image,
	   	.blocks-gallery-item {
			//width: calc(12.5% - 0.875em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-8 {
	  	.blocks-gallery-image,
	   	.blocks-gallery-item {
			//width: calc(12.5% - 0.875em);
			width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-1 {
	  	.blocks-gallery-image:nth-of-type(1n),
		.blocks-gallery-item:nth-of-type(1n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-1 {
	  	.blocks-gallery-image:nth-of-type(1n),
	   	.blocks-gallery-item:nth-of-type(1n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-2 {
	  	.blocks-gallery-image:nth-of-type(2n),
	  	.blocks-gallery-item:nth-of-type(2n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-2 {
	  	.blocks-gallery-image:nth-of-type(2n),
	   	.blocks-gallery-item:nth-of-type(2n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-3 {
	  	.blocks-gallery-image:nth-of-type(3n),
	   	.blocks-gallery-item:nth-of-type(3n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-3 {
	  	.blocks-gallery-image:nth-of-type(3n),
	   	.blocks-gallery-item:nth-of-type(3n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-4 {
	  	.blocks-gallery-image:nth-of-type(4n),
	   	.blocks-gallery-item:nth-of-type(4n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-4 {
	  	.blocks-gallery-image:nth-of-type(4n),
	   	.blocks-gallery-item:nth-of-type(4n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-5 {
	  	.blocks-gallery-image:nth-of-type(5n),
	   	.blocks-gallery-item:nth-of-type(5n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-5 {
	  	.blocks-gallery-image:nth-of-type(5n),
	   	.blocks-gallery-item:nth-of-type(5n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-6 {
	  	.blocks-gallery-image:nth-of-type(6n),
	   	.blocks-gallery-item:nth-of-type(6n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-6 {
	  	.blocks-gallery-image:nth-of-type(6n),
	   	.blocks-gallery-item:nth-of-type(6n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-7 {
	  	.blocks-gallery-image:nth-of-type(7n),
	   	.blocks-gallery-item:nth-of-type(7n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-7 {
	  	.blocks-gallery-image:nth-of-type(7n),
	   	.blocks-gallery-item:nth-of-type(7n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-8 {
	  	.blocks-gallery-image:nth-of-type(8n),
	   	.blocks-gallery-item:nth-of-type(8n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-8 {
	  	.blocks-gallery-image:nth-of-type(8n),
	   	.blocks-gallery-item:nth-of-type(8n) {
			margin-right: 0;
	  	}
	}
}

@include mixin.mq(pc) {
	.wp-block-gallery.columns-default {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	width: calc(33.3333333333% - 0.6666666667em);
		  	//width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.blocks-gallery-grid.columns-default {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	width: calc(33.3333333333% - 0.6666666667em);
		  	//width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.wp-block-gallery.columns-2 {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	width: calc(33.3333333333% - 0.6666666667em);
		  	//width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.blocks-gallery-grid.columns-2 {
		.blocks-gallery-image,
	  	.blocks-gallery-item {
		  	width: calc(33.3333333333% - 0.6666666667em);
		  	//width: calc(50% - 0.5em);
		  	margin-right: 1em;
		}
  	}

	.wp-block-gallery.columns-3 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			width: calc(33.3333333333% - 0.6666666667em);
			//width: calc(50% - 0.5em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-3 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-4 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(25% - 0.75em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-4 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(25% - 0.75em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-5 {
	  	.blocks-gallery-image,
		.blocks-gallery-item {
			//width: calc(20% - 0.8em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-5 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(20% - 0.8em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-6 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(16.6666666667% - 0.8333333333em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-6 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(16.6666666667% - 0.8333333333em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-7 {
	  	.blocks-gallery-image,
	  	.blocks-gallery-item {
			//width: calc(14.2857142857% - 0.8571428571em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-7 {
	  	.blocks-gallery-image,
	   	.blocks-gallery-item {
			//width: calc(14.2857142857% - 0.8571428571em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-8 {
	  	.blocks-gallery-image,
	   	.blocks-gallery-item {
			//width: calc(12.5% - 0.875em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.blocks-gallery-grid.columns-8 {
	  	.blocks-gallery-image,
	   	.blocks-gallery-item {
			//width: calc(12.5% - 0.875em);
			width: calc(33.3333333333% - 0.6666666667em);
			margin-right: 1em;
	  	}
	}
  
	.wp-block-gallery.columns-1 {
	  	.blocks-gallery-image:nth-of-type(1n),
		.blocks-gallery-item:nth-of-type(1n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-1 {
	  	.blocks-gallery-image:nth-of-type(1n),
	   	.blocks-gallery-item:nth-of-type(1n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-2 {
	  	.blocks-gallery-image:nth-of-type(2n),
	  	.blocks-gallery-item:nth-of-type(2n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-2 {
	  	.blocks-gallery-image:nth-of-type(2n),
	   	.blocks-gallery-item:nth-of-type(2n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-3 {
	  	.blocks-gallery-image:nth-of-type(3n),
	   	.blocks-gallery-item:nth-of-type(3n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-3 {
	  	.blocks-gallery-image:nth-of-type(3n),
	   	.blocks-gallery-item:nth-of-type(3n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-4 {
	  	.blocks-gallery-image:nth-of-type(4n),
	   	.blocks-gallery-item:nth-of-type(4n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-4 {
	  	.blocks-gallery-image:nth-of-type(4n),
	   	.blocks-gallery-item:nth-of-type(4n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-5 {
	  	.blocks-gallery-image:nth-of-type(5n),
	   	.blocks-gallery-item:nth-of-type(5n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-5 {
	  	.blocks-gallery-image:nth-of-type(5n),
	   	.blocks-gallery-item:nth-of-type(5n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-6 {
	  	.blocks-gallery-image:nth-of-type(6n),
	   	.blocks-gallery-item:nth-of-type(6n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-6 {
	  	.blocks-gallery-image:nth-of-type(6n),
	   	.blocks-gallery-item:nth-of-type(6n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-7 {
	  	.blocks-gallery-image:nth-of-type(7n),
	   	.blocks-gallery-item:nth-of-type(7n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-7 {
	  	.blocks-gallery-image:nth-of-type(7n),
	   	.blocks-gallery-item:nth-of-type(7n) {
			margin-right: 0;
	  	}
	}
  
	.wp-block-gallery.columns-8 {
	  	.blocks-gallery-image:nth-of-type(8n),
	   	.blocks-gallery-item:nth-of-type(8n) {
			margin-right: 0;
	  	}
	}
  
	.blocks-gallery-grid.columns-8 {
	  	.blocks-gallery-image:nth-of-type(8n),
	   	.blocks-gallery-item:nth-of-type(8n) {
			margin-right: 0;
	  	}
	}
}

/*最後のimegeの設定みたい*/
.wp-block-gallery {
	.blocks-gallery-image:last-child,
	.blocks-gallery-item:last-child {
	  	margin-right: 0;
	}
}
  
.blocks-gallery-grid {
	.blocks-gallery-image:last-child,
	.blocks-gallery-item:last-child {
	  	margin-right: 0;
	}
}
  
/*.wp-block-gallery {
	&.alignleft,
	&.alignright {
	  	max-width: 420px;
	  	width: 100%;
	}
}
  
.blocks-gallery-grid {
	&.alignleft,
	&.alignright {
	  	max-width: 420px;
	  	width: 100%;
	}
}*/
/*↑最後のimegeの設定みたい*/

.wp-block-gallery.aligncenter .blocks-gallery-item figure,
.blocks-gallery-grid.aligncenter .blocks-gallery-item figure {
	justify-content: center;
}
  
.wp-block-gallery {
	&:not(.is-cropped) .blocks-gallery-item {
	  	align-self: flex-start;
	}
  
	&.has-nested-images {
	  	display: flex;
	  	flex-wrap: wrap;
  
		figure.wp-block-image {
			&:not(#individual-image) {
		  		margin: 0 var(--gallery-block--gutter-size, 16px) var(--gallery-block--gutter-size, 16px) 0;
		  		//width: calc(50% - (var(--gallery-block--gutter-size, 16px) / 2));
				//  width: calc(100% - (var(--gallery-block--gutter-size, 16px) ));
				width: 100%;
  
		  		&:last-of-type:not(#individual-image),
				&:nth-of-type(even) {
					margin-right: 0;
		  		}
			}
  
			display: flex;
			flex-grow: 1;
			justify-content: center;
			position: relative;
			margin-top: auto;
			margin-bottom: auto;
			flex-direction: column;
			max-width: 100%;
			object-fit: cover;  //追加分
			object-position: left bottom;  //追加分
  
			> {
		  		div, a {
					margin: 0;
					flex-direction: column;
					flex-grow: 1;
		  		}
			}
  
			img {
				display: block;
				height: auto;
				max-width: 100% !important;
			  	width: auto;
				object-fit: cover;  //追加分
				object-position: left bottom;  //追加分
			}
  
			figcaption {
				background: linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0, rgba(0, 0, 0, 0.3) 70%, transparent);
				bottom: 0;
				color: #fff;
				font-size: 13px;
				left: 0;
				margin-bottom: 0;
				max-height: 60%;
				overflow: auto;
				padding: 0 8px 8px;
				position: absolute;
				text-align: center;
				width: 100%;
				box-sizing: border-box;
		
				img {
					display: inline;
				}
			}
  
			&.is-style-rounded {
				> {
					div, a {
						flex: 1 1 auto;
					}
				}
	
				figcaption {
					flex: initial;
					background: none;
					color: inherit;
					margin: 0;
					padding: 10px 10px 9px;
					position: relative;
				}
			}
		}
  
		figcaption {
			flex-grow: 1;
			flex-basis: 100%;
			text-align: center;
		}
  
		&:not(.is-cropped) figure.wp-block-image:not(#individual-image) {
			margin-top: 0;
			margin-bottom: auto;
	
			img {
				margin-bottom: var(--gallery-block--gutter-size, 16px);
			}
	
			figcaption {
				bottom: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.is-cropped figure.wp-block-image:not(#individual-image) {
			align-self: inherit;
	
			> {
				div:not(.components-drop-zone),
				a {
					display: flex;
				}
			}
	
			a, img {
				width: 100%;
				flex: 1 0 0%;
				height: 100%;
				-o-object-fit: cover;
				object-fit: cover;
			}
		}
  
		&.columns-1 figure.wp-block-image:not(#individual-image) {
			margin-right: 0;
			width: 100%;
		}
  
		&.alignleft,
		&.alignright {
			max-width: 420px;
			width: 100%;
		}
  
		&.aligncenter {
			justify-content: center;
		}
	}
}
  
@include mixin.mq(tablet) {
	.wp-block-gallery.has-nested-images {
	  	&.columns-3 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			//width: calc(33.3333333333% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
			width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
			//width: calc(50% - 0.5em);
  
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-4 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(25% - (var(--gallery-block--gutter-size, 16px) * 0.75));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-5 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(20% - (var(--gallery-block--gutter-size, 16px) * 0.8));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-6 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(16.6666666667% - (var(--gallery-block--gutter-size, 16px) * 0.8333333333));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-7 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(14.2857142857% - (var(--gallery-block--gutter-size, 16px) * 0.8571428571));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-8 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(12.5% - (var(--gallery-block--gutter-size, 16px) * 0.875));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-1 figure.wp-block-image:not(#individual-image):nth-of-type(1n),
		&.columns-2 figure.wp-block-image:not(#individual-image):nth-of-type(2n),
		&.columns-3 figure.wp-block-image:not(#individual-image):nth-of-type(3n),
		&.columns-4 figure.wp-block-image:not(#individual-image):nth-of-type(4n),
		&.columns-5 figure.wp-block-image:not(#individual-image):nth-of-type(5n),
		&.columns-6 figure.wp-block-image:not(#individual-image):nth-of-type(6n),
		&.columns-7 figure.wp-block-image:not(#individual-image):nth-of-type(7n),
		&.columns-8 figure.wp-block-image:not(#individual-image):nth-of-type(8n) {
			margin-right: 0;
		}
  
		&.columns-default figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			//width: calc(33.33% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
			width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
	
			/*&:nth-of-type(3n+3) {
				margin-right: 0;
			}*/

			&:nth-of-type(2n+2) {
				margin-right: 0;
			}
			
			&:first-child {
				width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));

				&:nth-last-child(2) {
					width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
		
					~ figure.wp-block-image:not(#individual-image) {
						width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
					}
				}
	
				&:nth-last-child(1) {
					//width: 100%;
					width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
					
				}
			}
		}
	}
}

@include mixin.mq(pc) {
	.wp-block-gallery.has-nested-images {
	  	&.columns-3 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(33.3333333333% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
			//width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
			//width: calc(50% - 0.5em);
  
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-4 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(25% - (var(--gallery-block--gutter-size, 16px) * 0.75));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-5 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(20% - (var(--gallery-block--gutter-size, 16px) * 0.8));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-6 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(16.6666666667% - (var(--gallery-block--gutter-size, 16px) * 0.8333333333));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-7 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(14.2857142857% - (var(--gallery-block--gutter-size, 16px) * 0.8571428571));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-8 figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(12.5% - (var(--gallery-block--gutter-size, 16px) * 0.875));
	
			&.is-dragging ~ figure.wp-block-image:not(#individual-image) {
				margin-right: var(--gallery-block--gutter-size, 16px);
			}
		}
  
		&.columns-1 figure.wp-block-image:not(#individual-image):nth-of-type(1n),
		&.columns-2 figure.wp-block-image:not(#individual-image):nth-of-type(2n),
		&.columns-3 figure.wp-block-image:not(#individual-image):nth-of-type(3n),
		&.columns-4 figure.wp-block-image:not(#individual-image):nth-of-type(4n),
		&.columns-5 figure.wp-block-image:not(#individual-image):nth-of-type(5n),
		&.columns-6 figure.wp-block-image:not(#individual-image):nth-of-type(6n),
		&.columns-7 figure.wp-block-image:not(#individual-image):nth-of-type(7n),
		&.columns-8 figure.wp-block-image:not(#individual-image):nth-of-type(8n) {
			margin-right: 0;
		}
  
		&.columns-default figure.wp-block-image:not(#individual-image) {
			margin-right: var(--gallery-block--gutter-size, 16px);
			width: calc(33.33% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
	
			&:nth-of-type(3n+3) {
				margin-right: 0;
			}
	
			&:first-child {
				&:nth-last-child(2) {
					//width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
					width: calc(33.33% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
		
					~ figure.wp-block-image:not(#individual-image) {
						//width: calc(50% - (var(--gallery-block--gutter-size, 16px) * 0.5));
						width: calc(33.33% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
					}
				}
	
				&:nth-last-child(1) {
					//width: 100%;
					width: calc(33.33% - (var(--gallery-block--gutter-size, 16px) * 0.6666666667));
				}
			}
		}
	}
}
